
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ - Stop & Shop</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f4f4; color: #333; margin: 0; padding: 20px; text-align: center; }
        header { background-color: #0073e6; color: white; padding: 10px 0; }
        h1 { margin: 0; }
        .container { max-width: 800px; margin: 20px auto; padding: 20px; background: white; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .order-details { text-align: left; margin-top: 20px; }
        footer { margin-top: 20px; color: #777; }
        .btn { background-color: #0073e6; color: white; padding: 10px 20px; border: none; cursor: pointer; border-radius: 4px; text-decoration: none; display: inline-block; margin-top: 10px; }
        .btn:hover { background-color: #005ea6; }
    </style>
</head>
<body>
<header>
    <h1>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ - Stop & Shop</h1>
</header>
<div class="container">
    <h2>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</h2>
    <div class="order-details">
        <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> <input type="text" id="customer-name"></p>
        <p><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> <input type="text" id="customer-address"></p>
        <p><strong>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</strong> <input type="text" id="customer-phone"></p>
        <p><strong>Ø±Ù‚Ù… Ø§Ù„Ø·Ø§Ø¨Ù‚:</strong> <input type="text" id="customer-floor"></p>
        <p><strong>Ø§Ù„Ø¨Ù„Ø¯Ø©:</strong> <input type="text" id="customer-town"></p>
        <p><strong>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ÙŠØ©:</strong> <span id="order-id">[Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ÙŠØ©]</span></p>
    </div>
    <div>
        <a href="#" class="btn" id="send-to-supermarket">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª Ø¹Ø¨Ø± WhatsApp</a>
        <a href="#" class="btn" id="contact-delivery">Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ Ø¹Ø¨Ø± Ø§Ù„Ø¯Ù„ÙŠÙÙŠØ±ÙŠ Ø¹Ø¨Ø± WhatsApp</a>
    </div>
    <br>
    <a href="cart.html">Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø´Ø±Ø§Ø¡</a><br>
    
</div>
<footer>
    <p>ğŸ“ Harouf, Al baydar, Main Street</p>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage ÙˆØ¹Ø±Ø¶Ù‡Ø§ ÙÙŠ Ø§Ù„Ø­Ù‚ÙˆÙ„
        const customerName = localStorage.getItem('customerName') || '';
        const customerAddress = localStorage.getItem('customerAddress') || '';
        const customerPhone = localStorage.getItem('customerPhone') || '';
        const customerFloor = localStorage.getItem('customerFloor') || '';
        const customerTown = localStorage.getItem('customerTown') || '';
        const orderId = localStorage.getItem('orderId') || generateOrderId();

        document.getElementById('customer-name').value = customerName;
        document.getElementById('customer-address').value = customerAddress;
        document.getElementById('customer-phone').value = customerPhone;
        document.getElementById('customer-floor').value = customerFloor;
        document.getElementById('customer-town').value = customerTown;
        document.getElementById('order-id').textContent = orderId;
    });

    // ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§
    function generateOrderId() {
        let nextOrderId = localStorage.getItem('nextOrderId');
        if (!nextOrderId) {
            nextOrderId = 1;
        } else {
            nextOrderId = parseInt(nextOrderId) + 1;
        }

        localStorage.setItem('nextOrderId', nextOrderId);
        localStorage.setItem('orderId', nextOrderId);
        return nextOrderId.toString();
    }

    // Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø§Ù„Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª ÙˆØ§Ù„Ø¯Ù„ÙŠÙÙŠØ±ÙŠ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ÙŠØ©
    const supermarketPhoneNumber = '+96178954599'; // ØªØºÙŠÙŠØ± Ù‡Ø°Ø§ Ø¨Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø§Ù„Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª Ø§Ù„ÙØ¹Ù„ÙŠ
    const deliveryPhoneNumber = '+96181479786'; // ØªØºÙŠÙŠØ± Ù‡Ø°Ø§ Ø¨Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø§Ù„Ø¯Ù„ÙŠÙÙŠØ±ÙŠ Ø§Ù„ÙØ¹Ù„ÙŠ

    // Ø²Ø± Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª Ø¹Ø¨Ø± WhatsApp
    document.getElementById('send-to-supermarket').addEventListener('click', function(event) {
        event.preventDefault();
        sendMessage(supermarketPhoneNumber, true);
    });

    // Ø²Ø± Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„Ø¯Ù„ÙŠÙÙŠØ±ÙŠ Ø¹Ø¨Ø± WhatsApp
    document.getElementById('contact-delivery').addEventListener('click', function(event) {
        event.preventDefault();
        sendMessage(deliveryPhoneNumber, false);
    });

    function sendMessage(phoneNumber, includeCart) {
        const customerName = document.getElementById('customer-name').value;
        const customerAddress = document.getElementById('customer-address').value;
        const customerPhone = document.getElementById('customer-phone').value;
        const customerFloor = document.getElementById('customer-floor').value;
        const customerTown = document.getElementById('customer-town').value;
        const orderId = document.getElementById('order-id').textContent;

        if (!customerName || !customerAddress || !customerPhone || !customerFloor || !customerTown || !orderId) {
            alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„.');
            return;
        }

        let message = `Ø§Ù„Ø§Ø³Ù…: ${customerName}\nØ§Ù„Ø¹Ù†ÙˆØ§Ù†: ${customerAddress}\nØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ: ${customerPhone}\nØ±Ù‚Ù… Ø§Ù„Ø·Ø§Ø¨Ù‚: ${customerFloor}\nØ§Ù„Ø¨Ù„Ø¯Ø©: ${customerTown}\nØ±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ÙŠØ©: ${orderId}`;

        if (includeCart) {
            const cart = localStorage.getItem('cart');
            if (cart) {
                const cartItems = JSON.parse(cart).map(item => `${item.name} (${item.price} Ø¯ÙˆÙ„Ø§Ø±)`).join('\n');
                const totalAmount = calculateTotalAmount(JSON.parse(cart));
                message += `\n\nØ§Ù„Ù…Ù†ØªØ¬Ø§Øª:\n${cartItems}\n\nØ§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ: ${totalAmount.toFixed(2)} Ø¯ÙˆÙ„Ø§Ø±`;
            }
        }

        const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
        window.open(whatsappURL, '_blank');
    }

    function calculateTotalAmount(cart) {
        return cart.reduce((total, product) => total + parseFloat(product.price), 0);
    }
</script>

</body>
</html>
